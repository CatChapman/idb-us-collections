[![Build Status](https://travis-ci.org/iDigBio/idb-us-collections.svg?branch=master)](https://travis-ci.org/iDigBio/idb-us-collections)

# iDigBio: US Collections 

iDigBio publishes a list of US Collections, via the [iDigBio Portal](https://www.idigbio.org/portal/collections), that is intended to be a comprehensive list of all natural history collections in the United States of America. This GitHub project provides an administrative interface for managing the publishing of this list and offers tools to those who would like to use these data programmatically. 

## API Endpoint

[Published collections JSON Endpoint](http://idigbio.github.io/idb-us-collections/collections.json)



## Project Structure
Collections should each have their own JSON file, named by their collection UUID, and be formatted similar to this:

```json
[
{
    "institution": "Yale University, Peabody Museum of Natural History",
    "collection": "Vertebrate Paleontology",
    "recordsets": "0220907a-0463-4ae0-8a0b-77f5e80fff40",
    "recordsetQuery": "{\"recordset\":\"0220907a-0463-4ae0-8a0b-77f5e80fff40\"}",
    "institution_code": "YPM",
    "collection_code": "",
    "collection_uuid": "urn:uuid:3ebe7bbc-2f1b-4c34-b83e-1ae349d7ffb6",
    "collection_lsid": "NA",
    "collection_url": "http://peabody.yale.edu/collections/vertebrate-paleontology",
    "collection_catalog_url": "http://peabody.yale.edu/collections/search-collections?vp",
    "description": "",
    "descriptionForSpecialists": "",
    "cataloguedSpecimens": "NA",
    "knownToContainTypes": "",
    "taxonCoverage": "",
    "geographic_range": "",
    "collectionExtent": "NA",
    "contact": "Christopher Norris",
    "contact_role": "Senior Collections Manager",
    "contact_email": "christopher.norris@yale.edu",
    "mailing_address": "Yale University, PO Box 208118",
    "mailing_city": "New Haven",
    "mailing_state": "Connecticut",
    "mailing_zip": "06511-0000",
    "physical_address": "170-210 Whitney Avenue",
    "physical_city": "New Haven",
    "physical_state": "Connecticut",
    "physical_zip": "06511-0000",
    "lat": 41.3167,
    "lon": -72.9204
  }
]
```



## Metadata

- In general, institution and collection names should be spelled in full including the first/middle names of the people which the collections are named after. This is intended to facilitate full name search and avoid ambiguities, e.g.:
-- Bernice Pauahi Bishop Museum and not B.P. Bishop Museum or Bishop Museum
- ```institution``` name of the institution, ordered in decreasing hierarchy, separated by commas, e.g.:
-- University of Florida, Florida Museum of Natural History
-- Brigham Young University, Monte L. Bean Life Science Museum
- ```collection``` name of the collection, ordered in decreasing hierarchy, separated by commas
MAIN denotes the record for the institution itself rather than one of the collections
If the institution itself is just an herbarium, it should be listed as Herbarium (not MAIN)
- ```recordsets``` the record sets for the collection in iDigBio. They should be separated by commas
- ```recordsetQuery``` the query used to access data from the collection in iDigBio
- ```institution_code``` the institution code. We are using the GRbio convention of adding <IH> as a suffix if itâ€™s a collection listed in index herbariorum
- ```collection_code``` the prefix used by the collection in their catalog number
- ```collection_uuid``` generated by us, should be unique, with prefix urn:uuid:
- ```institution_lsid``` the GRbio LSID or coolURI for the collection, empty fields are collections that were not part of GRbio as of August 2014
- ```collection_url``` the URL of the website that lists general information about the collection
- ```collection_catalog_url``` the URL of the website that provides a search interface (or lists specimens) for the specimens housed by the collection
- ```description``` a description of the collection
- ```descriptionForSpecialists``` Optional additional descriptive text using terms that are more suited to a specialist audience. Attribute indicates the language of the text.
- ```cataloguedSpecimens``` A numeric representation of the number of catalogued specimens in the collection
- ```knownToContainTypes``` Flag property to indicate that the collection is known to include type specimens
- ```taxonCoverage``` Taxon or taxa in the collection at Family level or higher.
- ```geographic_range``` the geographic range from which the specimens in the collection come from.
- ```collectionExtent``` A free-text indication of the size or extent of the collection.
- ```contact``` preferred person to act as point of contact for the collection. Usually I have removed titles from this field to only keep the name
- ```contact_role``` role of the contact person for the collection
- ```contact_email``` email of the contact person
- ```mailing_address``` mailing address for the collection
- ```mailing_city```
- ```mailing_state```
- ```mailing_zip``` to avoid conversion issue between spreadsheet formats, zip codes starting with a 0 have -0000 at the end: e.g., 02138-0000 for the MCZ
- ```physical_address``` physical address for the collection
- ```physical_city```
- ```physical_state```
- ```physical_zip``` to avoid conversion issue between spreadsheet formats, zip codes starting with a 0 have -0000 at the end: e.g., 02138-0000 for the MCZ
- ```lat``` decimal latitude for the collection
- ```lon```  decimal longitude for the collection


## Stub records

Stub records can be generated using the function ```r createCollStub``` . A stub record will be generated and added to a directory called "stubs". These stub records will have UUID's and can be moved to the "collections" directory once they have been updated or are complete.

```json
{
    "institution": "",
    "collection": "",
    "recordsets": "",
    "recordsetQuery": "",
    "institution_code": "",
    "collection_code": "",
    "collection_uuid": "",
    "collection_lsid": "",
    "collection_url": "",
    "collection_catalog_url": "",
    "description": "",
    "descriptionForSpecialists": "",
    "cataloguedSpecimens": null,
    "knownToContainTypes": "",
    "taxonCoverage": "",
    "geographic_range": "",
    "collectionExtent": "",
    "contact": "",
    "contact_role": "",
    "contact_email": "",
    "mailing_address": "",
    "mailing_city": "",
    "mailing_state": "",
    "mailing_zip": "",
    "physical_address": "",
    "physical_city": "",
    "physical_state": "",
    "physical_zip": "",
    "lat": null,
    "lon": null
}
```
